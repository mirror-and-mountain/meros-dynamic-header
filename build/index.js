(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.element,a=window.wp.data,l=window.wp.components,n=window.ReactJSXRuntime;function s({attribute:e,label:t,currentColor:o,setAttributes:r}){return(0,a.useSelect)((e=>e("core/block-editor").getSettings().colors||[]),[]),(0,n.jsx)(l.Dropdown,{renderToggle:({onToggle:e})=>(0,n.jsxs)(l.Button,{onClick:e,variant:"secondary",style:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:[(0,n.jsx)(l.ColorIndicator,{colorValue:o}),t]}),renderContent:()=>(0,n.jsx)("div",{style:{padding:"10px"},children:(0,n.jsx)(l.BaseControl,{label:t,children:(0,n.jsx)(l.ColorPalette,{colors:[],value:o,onChange:t=>{r({[e]:t})},disableCustomColors:!1})})})})}function i({attributes:e,setAttributes:r}){const{isSticky:a,bottomOffset:i,isOverlay:d,backgroundStartColor:c,backgroundEndColor:u,textStartColor:b,textEndColor:m}=e;return(0,n.jsxs)(o.InspectorControls,{children:[(0,n.jsxs)(l.__experimentalToolsPanel,{label:(0,t.__)("Positioning","meros-dynamic-header"),resetAll:()=>{r({isSticky:!0,bottomOffset:!0})},children:[(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Sticky","meros-dynamic-header"),hasValue:()=>!a,isShownByDefault:!0,onDeselect:()=>{r({isSticky:!0})},children:(0,n.jsx)(l.ToggleControl,{label:(0,t.__)("Sticky","meros-dynamic-header"),checked:a,onChange:e=>{r({isSticky:e}),!1===e&&r({isOverlay:!1})}})}),(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Bottom Offset","meros-dynamic-header"),hasValue:()=>!i,isShownByDefault:!0,onDeselect:()=>{r({bottomOffset:!0})},children:(0,n.jsx)(l.ToggleControl,{label:(0,t.__)("Bottom Offset","meros-dynamic-header"),checked:i,onChange:e=>r({bottomOffset:e})})})]}),(0,n.jsxs)(l.__experimentalToolsPanel,{label:(0,t.__)("Overlay","meros-dynamic-header"),resetAll:()=>{r({isOverlay:!0,backgroundStartColor:"#FFFFFF00",backgroundEndColor:"#FFFFFF",textStartColor:"#000000",textEndColor:"#000000"})},children:[(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Is Overlay","meros-dynamic-header"),hasValue:()=>!d,isShownByDefault:!0,onDeselect:()=>{r({isOverlay:!0})},children:(0,n.jsx)(l.ToggleControl,{label:(0,t.__)("Enable Overlay","meros-dynamic-header"),checked:d,onChange:e=>r({isOverlay:e}),disabled:!a})}),d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Background Start Colour","meros-dynamic-header"),hasValue:()=>"#FFFFFF00"!==c,isShownByDefault:!0,onDeselect:()=>{r({backgroundStartColor:"#FFFFFF00"})},children:(0,n.jsx)(s,{attribute:"backgroundStartColor",label:(0,t.__)("Background Start Colour","meros-dynamic-header"),currentColor:c||"#FFFFFF00",setAttributes:r})}),(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Background End Colour","meros-dynamic-header"),hasValue:()=>"#FFFFFF"!==u,isShownByDefault:!0,onDeselect:()=>{r({backgroundEndColor:"#FFFFFF"})},children:(0,n.jsx)(s,{attribute:"backgroundEndColor",label:(0,t.__)("Background End Colour","meros-dynamic-header"),currentColor:u||"#FFFFFF00",setAttributes:r})}),(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Text Start Colour","meros-dynamic-header"),hasValue:()=>"#000000"!==b,isShownByDefault:!0,onDeselect:()=>{r({textStartColor:"#000000"})},children:(0,n.jsx)(s,{attribute:"textStartColor",label:(0,t.__)("Text Start Colour","meros-dynamic-header"),currentColor:b||"#000000",setAttributes:r})}),(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Text End Colour","meros-dynamic-header"),hasValue:()=>"#000000"!==m,isShownByDefault:!0,onDeselect:()=>{r({textEndColor:"#000000"})},children:(0,n.jsx)(s,{attribute:"textEndColor",label:(0,t.__)("Text End Colour","meros-dynamic-header"),currentColor:m||"#000000",setAttributes:r})})]})]})]})}const d=JSON.parse('{"UU":"meros/dynamic-header"}');(0,e.registerBlockType)(d.UU,{edit:function({attributes:e,setAttributes:t,clientId:l}){const{isSticky:s,bottomOffset:d,isOverlay:c,backgroundStartColor:u,backgroundEndColor:b,textStartColor:m,textEndColor:x}=e;return(0,r.useEffect)((()=>{const e=(0,a.select)("core/block-editor").getBlock(l);e&&e.innerBlocks.forEach((e=>{"core/site-logo"!==e.name||e.attributes.width||(0,a.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{width:60})}))}),[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i,{attributes:e,setAttributes:t}),(0,n.jsx)("div",{...(0,o.useBlockProps)(),"data-sticky":s,"data-bottom-offset":d,"data-overlay":c,"data-background-start":c?u:"","data-background-end":c?b:"","data-text-start":c?m:"","data-text-end":c?x:"",children:(0,n.jsx)("div",{children:(0,n.jsx)(o.InnerBlocks,{template:[["core/group",{layout:{type:"flex",orientation:"horizontal",justifyContent:"space-between"}},[["core/group",{layout:{type:"flex",orientation:"horizontal"}},[["core/site-logo",{width:60}],["core/site-title",{}]]],["core/navigation",{}]]]]})})})]})},save:function({attributes:e}){const{isSticky:t,bottomOffset:r,isOverlay:a,backgroundStartColor:l,backgroundEndColor:s,textStartColor:i,textEndColor:d}=e;return(0,n.jsx)("div",{...o.useBlockProps.save(),"data-sticky":t,"data-bottom-offset":r,"data-overlay":a,"data-background-start":a?l:"","data-background-end":a?s:"","data-text-start":a?i:"","data-text-end":a?d:"",children:(0,n.jsx)(o.InnerBlocks.Content,{})})}})})();