(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,r=window.wp.element,a=window.wp.data,l=window.wp.components,n=window.ReactJSXRuntime;function s({attribute:e,label:t,currentColor:o,setAttributes:r}){const s=(0,a.useSelect)((e=>e("core/block-editor").getSettings().colors||[]),[]);return(0,n.jsx)("div",{className:"meros-color-picker",children:(0,n.jsx)(l.Dropdown,{renderToggle:({onToggle:e})=>(0,n.jsxs)(l.Button,{onClick:e,variant:"secondary",style:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:[(0,n.jsx)(l.ColorIndicator,{colorValue:o}),t]}),renderContent:()=>(0,n.jsx)("div",{style:{padding:"10px"},children:(0,n.jsx)(l.BaseControl,{label:t,children:(0,n.jsx)(l.ColorPalette,{colors:s,value:o,onChange:t=>{r({[e]:t})},disableCustomColors:!1,enableAlpha:!0})})})})})}function i({attributes:e,setAttributes:r}){const{tagName:a,isSticky:i,bottomOffset:d,isOverlay:c,backgroundStartColor:m,backgroundEndColor:u,textStartColor:h,textEndColor:g}=e;return(0,n.jsxs)(o.InspectorControls,{children:[(0,n.jsxs)(l.__experimentalToolsPanel,{label:(0,t.__)("Positioning","meros-dynamic-header"),resetAll:()=>{r({isSticky:!0,bottomOffset:!0})},children:[(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Sticky","meros-dynamic-header"),hasValue:()=>!i,isShownByDefault:!0,onDeselect:()=>{r({isSticky:!0})},children:(0,n.jsx)(l.ToggleControl,{label:(0,t.__)("Sticky","meros-dynamic-header"),checked:i,onChange:e=>{r({isSticky:e}),!1===e&&r({isOverlay:!1})}})}),(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Bottom Offset","meros-dynamic-header"),hasValue:()=>!d,isShownByDefault:!0,onDeselect:()=>{r({bottomOffset:!0})},children:(0,n.jsx)(l.ToggleControl,{label:(0,t.__)("Bottom Offset","meros-dynamic-header"),checked:d,onChange:e=>r({bottomOffset:e})})})]}),(0,n.jsxs)(l.__experimentalToolsPanel,{label:(0,t.__)("Overlay","meros-dynamic-header"),resetAll:()=>{r({isOverlay:!0,backgroundStartColor:"#FFFFFF00",backgroundEndColor:"#FFFFFF",textStartColor:"#000000",textEndColor:"#000000"})},children:[(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Is Overlay","meros-dynamic-header"),hasValue:()=>!c,isShownByDefault:!0,onDeselect:()=>{r({isOverlay:!0})},children:(0,n.jsx)(l.ToggleControl,{label:(0,t.__)("Enable Overlay","meros-dynamic-header"),checked:c,onChange:e=>r({isOverlay:e}),disabled:!i})}),c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Background Start Colour","meros-dynamic-header"),hasValue:()=>"#FFFFFF00"!==m,isShownByDefault:!0,onDeselect:()=>{r({backgroundStartColor:"#FFFFFF00"})},children:(0,n.jsx)(s,{attribute:"backgroundStartColor",label:(0,t.__)("Background Start Colour","meros-dynamic-header"),currentColor:m||"#FFFFFF00",setAttributes:r})}),(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Background End Colour","meros-dynamic-header"),hasValue:()=>"#FFFFFF"!==u,isShownByDefault:!0,onDeselect:()=>{r({backgroundEndColor:"#FFFFFF"})},children:(0,n.jsx)(s,{attribute:"backgroundEndColor",label:(0,t.__)("Background End Colour","meros-dynamic-header"),currentColor:u||"#FFFFFF00",setAttributes:r})}),(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Text Start Colour","meros-dynamic-header"),hasValue:()=>"#000000"!==h,isShownByDefault:!0,onDeselect:()=>{r({textStartColor:"#000000"})},children:(0,n.jsx)(s,{attribute:"textStartColor",label:(0,t.__)("Text Start Colour","meros-dynamic-header"),currentColor:h||"#000000",setAttributes:r})}),(0,n.jsx)(l.__experimentalToolsPanelItem,{label:(0,t.__)("Text End Colour","meros-dynamic-header"),hasValue:()=>"#000000"!==g,isShownByDefault:!0,onDeselect:()=>{r({textEndColor:"#000000"})},children:(0,n.jsx)(s,{attribute:"textEndColor",label:(0,t.__)("Text End Colour","meros-dynamic-header"),currentColor:g||"#000000",setAttributes:r})})]})]}),(0,n.jsx)(l.PanelBody,{title:(0,t.__)("Tag Selection","meros-dynamic-header"),initialOpen:!1,children:(0,n.jsx)(l.SelectControl,{label:(0,t.__)("Element Tag","meros-dynamic-header"),value:a,options:[{label:(0,t.__)("header","meros-dynamic-header"),value:"header"},{label:(0,t.__)("div","meros-dynamic-header"),value:"div"}],onChange:e=>r({tagName:e})})})]})}const d=window.wp.hooks,c=window.wp.compose;wp.domReady((()=>{(0,d.addFilter)("blocks.registerBlockType","meros/navigation-attributes",((e,t)=>"core/navigation"!==t?e:{...e,attributes:{...e.attributes,enableMerosNav:{type:"boolean",default:!1},merosNavDirection:{type:"string",default:"left"},merosNavStyle:{type:"string",default:"minimal"},merosNavBgColor:{type:"string",default:"#FFFFFF"},merosNavTextColor:{type:"string",default:"#000000"},merosNavHighlightColor:{type:"string",default:"#f0f0f0"},merosNavDesktopHighlight:{type:"boolean",default:!1},merosNavShowLogo:{type:"boolean",default:!0}}}));const e=(0,c.createHigherOrderComponent)((e=>a=>{const{name:i,attributes:d,setAttributes:c}=a;return"core/navigation"!==i?(0,n.jsx)(e,{...a}):(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(e,{...a}),(0,n.jsx)(o.InspectorControls,{children:(0,n.jsxs)(l.PanelBody,{title:(0,t.__)("Meros Navigation Settings","meros-dynamic-header"),initialOpen:!0,children:[(0,n.jsx)(l.ToggleControl,{label:(0,t.__)("Enable Meros Navigation","meros-dynamic-header"),checked:d.enableMerosNav,onChange:e=>{c({enableMerosNav:e}),e&&(d.openSubmenusOnClick||c({openSubmenusOnClick:!0}),d.showSubmenuIcon||c({showSubmenuIcon:!0}))}}),d.enableMerosNav&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.SelectControl,{label:(0,t.__)("Direction","meros-dynamic-header"),value:d.merosNavDirection,options:[{label:(0,t.__)("Slide Left","meros-dynamic-header"),value:"left"},{label:(0,t.__)("Slide Right","meros-dynamic-header"),value:"right"},{label:(0,t.__)("Slide From Top","meros-dynamic-header"),value:"top"}],onChange:e=>c({merosNavDirection:e})}),(0,n.jsx)(l.ToggleControl,{label:(0,t.__)("Show Site Logo","meros-dynamic-header"),checked:d.merosNavShowLogo,onChange:e=>c({merosNavShowLogo:e})}),(0,n.jsx)(s,{attribute:"merosNavBgColor",label:(0,t.__)("Background Color","meros-dynamic-header"),currentColor:d.merosNavBgColor,setAttributes:c}),(0,n.jsx)(s,{attribute:"merosNavHighlightColor",label:(0,t.__)("Highlight Color","meros-dynamic-header"),currentColor:d.merosNavHighlightColor,setAttributes:c}),(0,n.jsx)(s,{attribute:"merosNavTextColor",label:(0,t.__)("Text Color","meros-dynamic-header"),currentColor:d.merosNavTextColor,setAttributes:c}),(0,n.jsx)("div",{style:{height:"16px"}}),(0,n.jsx)(l.ToggleControl,{label:(0,t.__)("Enable Navigation Highlights on Desktop","meros-dynamic-header"),checked:d.merosNavDesktopHighlight,onChange:e=>c({merosNavDesktopHighlight:e})})]})]})})]})}),"addNavigationControls");(0,d.addFilter)("editor.BlockEdit","meros/navigation-controls",e)}));const m=JSON.parse('{"UU":"meros/dynamic-header"}');(0,e.registerBlockType)(m.UU,{edit:function({attributes:e,setAttributes:t,clientId:l}){const{tagName:s,isSticky:d,bottomOffset:c,isOverlay:m,backgroundStartColor:u,backgroundEndColor:h,textStartColor:g,textEndColor:b}=e,x=s||"header";return(0,r.useEffect)((()=>{const e=(0,a.select)("core/block-editor").getBlock(l);e&&e.innerBlocks.forEach((e=>{"core/site-logo"!==e.name||e.attributes.width||(0,a.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{width:60})}))}),[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i,{attributes:e,setAttributes:t}),(0,n.jsx)(x,{...(0,o.useBlockProps)(),"data-sticky":d,"data-bottom-offset":c,"data-overlay":m,"data-background-start":m?u:"","data-background-end":m?h:"","data-text-start":m?g:"","data-text-end":m?b:"",children:(0,n.jsx)("div",{children:(0,n.jsx)(o.InnerBlocks,{template:[["core/group",{layout:{type:"flex",orientation:"horizontal",justifyContent:"space-between"}},[["core/group",{layout:{type:"flex",orientation:"horizontal"}},[["core/site-logo",{width:60}],["core/site-title",{}]]],["core/navigation",{}]]]]})})})]})},save:function({attributes:e}){const{tagName:t,isSticky:r,bottomOffset:a,isOverlay:l,backgroundStartColor:s,backgroundEndColor:i,textStartColor:d,textEndColor:c}=e,m=t||"header";return(0,n.jsx)(m,{...o.useBlockProps.save(),"data-sticky":r,"data-bottom-offset":a,"data-overlay":l,"data-background-start":l?s:"","data-background-end":l?i:"","data-text-start":l?d:"","data-text-end":l?c:"",children:(0,n.jsx)(o.InnerBlocks.Content,{})})}})})();